# 应用层

> 应用层无论在OSI几层协议模型、常用的五层模型以及TCP/IP四层协议中，都属于最高层。<br>
>
> 而我们Web开发与该层的HTTP协议密不可分，所以面试中需要注意着重注意这一层的常见协议。<br>



## HTTP（HyperText Transfer Protocol，超文本传输协议）

> 现代Web是构建与HTTP协议之上的，可以说没有HTTP就没有Web，我们常用的手机、电脑等设备中存在大量的HTTP交互。因此理解了HTTP协议中相关信息，理解网络编程就会十分轻松。



- HTTP采用***TCP***作为它的运输支撑协议。（而不是UDP，因为TCP是可靠的连接传输）

- HTTP是一个**无状态协议**（stateless protocol）。

  > 所谓无状态是指：服务器不维护任何有关客户端过去发送的请求（即HTTP服务器并不保存任何有关客户端过去发送的信息）。

- 非持续性连接和持续性连接

  > Web常采用C/S架构（客户 - 服务器），期间存在大量的响应和请求（Response / Request）。<br>
  >
  > 如果每个请求和响应都***单独***采用一个TCP连接进行，则称为非持续性连接。<br>
  >
  > 如果每个请求响应都采用***同一个***TCP连接进行，则称为持续性连接。<br>
  >
  > <br>
  >
  > 非持续连接存在以下两个缺点：
  >
  > 1. 消耗大量资源。非持续连接会频繁创建和断开TCP连接，而Web常采用C/S架构，会造成大量的资源的消耗。高并发下可能会使服务器宕机。
  > 2. 耗费大量时间。TCP三次握手与四次挥手，会造成大量的时间浪费。可能大部分等待时间都是都是在TCP的连接与释放。
  >
  > <br>
  >
  > HTTP1.0  默认使用短连接  HTTP1.1默认使用长连接。



### 请求报文和响应报文

Request

```http
GET /somedir/page.html HTTP/1.1
Host: www.someschool.edu
Connection: close
User-agent: Mozilla/5.0
Accept-language: fr

```

HTTP请求由：请求行、请求头、空行、请求体（非必须）

> 无论是否有请求体，request都必须以空行结尾。

- 请求行由请求方法、URL、HTTP版本构成。
- 请求头则是由key - value 键值对组成，表示各种含义。可以自行在请求中添加请求头。
- 空行，则用于区分请求头和请求体。
- 请求体中包含请求需要的各种数据。一般GET请求的请求体为空。



Response

``` http
HTTP/1.1 200 OK
Connection: close
Date: Tue, 18 Aug 2015 15:44:04 GMT
Content-Length: 6821
Content-type: text/html

(data  data data ...)
```

HTTP响应由：响应行、响应头、空行、响应体

- 响应行由HTTP版本、状态码、解释（非必须）
- 响应头由key - value 键值对组成，表示各种含义。
- 空行，则用于区分响应头和响应体。

#### 常见的响应状态码和请求方法

- GET、POST、PUT、DELETE
- 1xx 之前的请求没有问题，请求继续；
- 2xx 请求成功；
- 3xx 请求重定向；
- 401 未认证，没有登录； 404 not found； 403 没有权限；
- 5xx 服务器错误；



### Cookie

